# **μΈν„°λ½νΈ(Interrupt)**

## π“ **μΈν„°λ½νΈ**

- ν•λ“μ›¨μ–΄ μ¥μΉκ°€ CPUμ—κ² μ–΄λ–¤ μ‚¬μ‹¤μ„ μ•λ ¤μ£Όκ±°λ‚ CPUμ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•΄μ•Ό ν•  κ²½μ°, CPU λ‚΄μ— μλ” μΈν„°λ½νΈ λΌμΈμ„ μ„Έν…ν•μ—¬ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤. (ν”„λ΅κ·Έλ¨μ΄ λ…λ Ήμ„ μν–‰ν•κΈ° μ„ν•΄μ„λ” CPUλ¥Ό ν• λ‹Ήλ°›μ•„μ•Ό ν•¨)
- CPUλ” λ§¤λ² ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°κ°€ κ°€λ¦¬κ³  μλ” κ³³μ λ…λ Ήμ„ μν–‰ν• λ’¤, λ‹¤μ λ…λ Ήμ„ μν–‰ν•κΈ° μ§μ „μ— μΈν„°λ½νΈ λΌμΈμ΄ μ„Έν…λμ—λ”μ§€ μ²΄ν¬ν•λ‹¤.
- μ΄λ¥Ό ν†µν•΄ μΈν„°λ½νΈκ°€ λ°μƒν–μΌλ©΄ CPUλ” ν„μ¬ μν–‰ μ¤‘μ΄λ ν”„λ΅μ„Έμ¤λ¥Ό λ©μ¶”κ³  μ΄μ μ²΄μ μ μΈν„°λ½νΈ μ²λ¦¬ λ£¨ν‹΄μΌλ΅ μ΄λ™ν•μ—¬ μΈν„°λ½νΈ μ²λ¦¬λ¥Ό μν–‰ν•λ‹¤.

### **μΈν„°λ½νΈμ μΆ…λ¥**

1. ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ(μΌλ°μ μΈ μΈν„°λ½νΈ)
   - ν•λ“μ›¨μ–΄ μ»¨νΈλ΅¤λ¬κ°€ CPUμ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•κΈ° μ„ν•΄ λ°μƒμ‹ν‚¤λ” μΈν„°λ½νΈ

https://camo.githubusercontent.com/0bdc55299ecd6497a0af69b4aaf23d55f7cbfe460606d2859ba0182ae7e688ad/68747470733a2f2f6b2e6b616b616f63646e2e6e65742f646e2f62776f7654512f62747176427032344753312f41787554416b45615a6151776f626f6471654566516b2f696d672e706e67

ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ λ°μƒ κ³Όμ •

1. μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ(Trap:νΈλ©)
2. μμ™Έ μƒν™©(Exception)
   - ν”„λ΅κ·Έλ¨μ΄ ν—μ©λμ§€ μ•μ€ μ—°μ‚°μ„ μν–‰ν•λ ¤κ³  ν•  λ•, μλ™μ μΌλ΅ λ°μƒν•λ‹¤. μ΄μμ²΄μ λ” μμ™Έ μƒν™©μ΄ λ°μƒν–μ„ λ•, CPUμ μ μ–΄κ¶μ„ νλ“ν•΄ μ΄ μƒν™©μ— λ€ν• μ΅°μΉλ¥Ό μ·¨ν•λ‹¤.
   - ex) 0μΌλ΅ λ‚λ„λ” μ—°μ‚°, μμ‹ μ μ£Όμ† κ³µκ°„μ„ λ„μ–΄μ„λ” λ©”λ¨λ¦¬ μ°Έμ΅° λ“±
   - μμ™Έ μƒν™©μ— λ€ν• μ²λ¦¬ λ£¨ν‹΄μ„ μμ‹ μ μ½”λ“ μμ—­μ— κ°€μ§€κ³  μμ
3. μ‹μ¤ν… μ½(System Call)
   - μ‚¬μ©μ ν”„λ΅μ„Έμ¤κ°€ μ΄μμ²΄μ μ μ„λΉ„μ¤λ¥Ό μ”μ²­ν•κΈ° μ„ν•΄ μ»¤λ„μ ν•¨μλ¥Ό νΈμ¶ν•λ” κ²ƒμ΄λ‹¤.
   - μ‚¬μ©μ ν”„λ΅μ„Έμ¤κ°€ μ§μ ‘ νΉκ¶ λ…λ Ήμ„ μν–‰ν•  μ μ—†μΌλ―€λ΅ νΉκ¶ λ…λ Ήμ„ μν–‰ν•λ ¤ ν•  λ•, μ‹μ¤ν… μ½μ„ μ‚¬μ©ν•λ‹¤.

https://camo.githubusercontent.com/271627d5f3422254d27725f7a1bf3104c52475b1bfc73e143a100195fbf560d7/68747470733a2f2f6b2e6b616b616f63646e2e6e65742f646e2f516e714c682f62747176414243374561322f73666c50566972784e6457584f69516b633843517a312f696d672e706e67

μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ λ°μƒ κ³Όμ •

μ‹μ¤ν… μ½μ΄λ‚ μμ™Έ μƒν™©μ€ λ¨λ‘ μ‚¬μ©μ ν”„λ΅μ„Έμ¤λ΅λ¶€ν„° CPUμ μ μ–΄κ¶μ΄ μ΄μ μ²΄μ μ—κ² μ΄μ–‘λμ–΄ μ²λ¦¬λλ”λ° μ΄ κ³Όμ •μ— μΈν„°λ½νΈ λΌμΈμ„ μ„Έν…ν•μ—¬ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨ ν›„ μ μ–΄κ¶μ΄ λ„μ–΄κ°€κ² λλ―€λ΅ μ΄λ“¤λ„ λ„“μ€ μλ―Έμ—μ„λ” μΈν„°λ½νΈμ λ²”μ£Όμ— ν¬ν•¨μ‹ν‚¨λ‹¤. **λ‹¨μ§€ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¤λ” μ£Όμ²΄κ°€ ν•λ“μ›¨μ–΄ μ¥μΉκ°€ μ•„λ‹ μ†ν”„νΈμ›¨μ–΄μ΄λ―€λ΅ μ΄λ“¤μ„ μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈλΌκ³  λ¶€λ¥Έλ‹¤.**

### **μΈν„°λ½νΈ λ°μƒ μ²λ¦¬ κ³Όμ •**

A ν”„λ΅κ·Έλ¨μ΄ CPUλ¥Ό ν• λ‹Ήλ°›κ³  λ…λ Ήμ„ μν–‰ν•κ³  μλ”λ° μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ Aλ” ν„μ¬ μν–‰μ¤‘μΈ λ…λ Ήμ μ„μΉλ¥Ό μ €μ¥ν•΄λ†“λ”λ‹¤. κ·Έ ν›„, μ΄μ μ²΄μ  λ‚΄λ¶€ μ½”λ“μΈ μΈν„°λ½νΈ μ²λ¦¬ λ£¨ν‹΄μΌλ΅ λ„μ–΄κ°€μ„ μΈν„°λ½νΈ μ²λ¦¬λ¥Ό ν•κ³  λ‹¤μ‹ λμ•„μ™€ Aμ μ΄μ „ μ‘μ—… μ§€μ λ¶€ν„° μν–‰μ„ κ³„μ† μ΄μ–΄λ‚κ°€κ² λλ‹¤.

```
κ·Έλ ‡λ‹¤λ©΄, μΈν„°λ½νΈκ°€ λ°μƒν–μ„ λ• μν–‰μ¤‘μ΄λ ν”„λ΅μ„Έμ¤μ μ •λ³΄λ” μ–΄λ””μ— μ €μ¥λ κΉ?
```

- > μ§„ν–‰ μ¤‘μ΄λ A ν”„λ΅μ„Έμ¤μ μ •λ³΄λ” ν”„λ΅μ„Έμ¤ μ μ–΄ λΈ”λ΅(PCB: Process Control Block)μ— μ €μ¥ν•λ‹¤. κ·Έλ¦¬κ³  μΈν„°λ½νΈ μ²λ¦¬λ¥Ό λ¨λ‘ λ§μΉλ©΄ ν”„λ΅κ·Έλ¨ Aμ PCBμ— μ €μ¥λ μ£Όμ†λ¥Ό λ³µμ›μ‹μΌ μ›λ μν–‰ν•λ μΌμ„ μ¬κ°ν•κ² λλ‹¤.

- μΈν„°λ½νΈ λ²΅ν„°(Interrupt Vector)

  - μ—¬λ¬κ°€μ§€ μΈν„°λ½νΈμ— λ€ν•΄ ν•΄λ‹Ή μΈν„°λ½νΈ λ°μƒμ‹ μ²λ¦¬ν•΄μ•Ό ν•  λ£¨ν‹΄μ μ£Όμ†λ¥Ό λ³΄κ΄€ν•κ³  μλ” ν…μ΄λΈ”.
  - μΌμΆ…μ ν•¨μλ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°

- μΈν„°λ½νΈ ν•Έλ“¤λ¬(Interrupt Handler)

  - μ‹¤μ  μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• λ£¨ν‹΄μΌλ΅ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ΄λΌκ³ λ„ ν•λ‹¤.
  - μ΄μμ²΄μ  μ½”λ“ λ¶€λ¶„μ—λ” κ°μΆ… μΈν„°λ½νΈ λ³„λ΅ μ²λ¦¬ν•΄μ•Ό ν•  λ‚΄μ©μ΄ μ΄λ―Έ ν”„λ΅κ·Έλ¨λμ–΄ μμΌλ©°, μ΄ λ¶€λ¶„μ„ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄ λλ” μΈν„°λ½νΈ ν•Έλ“¤λ¬λΌκ³  ν•λ‹¤.

μλ¥Ό λ“¤μ–΄, μ…μ¶λ ¥ κ΄€λ ¨ μΈν„°λ½νΈκ°€ λ°μƒν• κ²½μ°, CPUλ” μΈν„°λ½νΈ λΌμΈμ„ ν†µν•΄ λ°μƒν• μΈν„°λ½νΈλ¥Ό ν™•μΈν•λ‹¤. μΈν„°λ½νΈ λ²΅ν„°λ¥Ό ν†µν•΄ ν•΄λ‹Ή μΈν„°λ½νΈ λ°μƒμ‹ μ²λ¦¬ν•΄μ•Ό ν•  λ£¨ν‹΄μ λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ•μ•„λ‚Έλ‹¤. μ£Όμ†λ¥Ό ν†µν•΄ μ‹¤μ  μν–‰λμ–΄μ•Ό ν•  μ½”λ“κ°€ λ‹΄κ²¨μλ” λ£¨ν‹΄μ„ μ°Ύμ•„κ°€ μƒν™©μ— λ§λ” μ²λ¦¬λ¥Ό μ§„ν–‰ν•λ‹¤.